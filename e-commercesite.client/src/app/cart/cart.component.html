<div class="container cart-container">
  <div class="row">
    <!-- Left Side: Cart Data -->
    <div class="col-md-7 cart-summary">
      <h4>My Cart</h4>
      <table class="table">
        <thead>
          <tr>
            <th>Product</th>
            <th>Quantity</th>
            <th>Subtotal</th>
            <th>Remove</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of cartItems; let i = index">
            <td>
              <div class="product-details">
                <img [src]="'http://localhost:5260/' + item.imagePath" alt="{{ item.productName }}" class="product-image" />
                <div>
                  <p>{{ item.productName }}</p>
                </div>
              </div>
            </td>
            <td class="quantity-and-subtotal">
              <div class="quantity-controls">
                <button (click)="decreaseQuantity(i)" class="btn-quantity">-</button>
                {{ item.quantity }}
                <button (click)="increaseQuantity(i)" class="btn-quantity">+</button>
              </div>
            </td>
            <td>
              <div class="subtotal">
                {{ (item.price * item.quantity) | currency: 'PKR' }}
              </div>
            </td>
            <td>
              <button (click)="removeItem(i)" class="btn-remove">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>

      <hr class="divider-line">

      <button (click)="goBackToShopping()" class="btn-continue-shopping">Continue Shopping</button>
    </div>

    <div class="col-md-1 vertical-divider"></div>

    <!-- Right Side: Order Form -->
    <div class="col-md-4 order-summary">
      <h4>Price Breakdown</h4>
      <div class="summary-details">
        <p>Subtotal ({{ cartItems.length }} items): <strong>{{ grandTotal | currency: 'PKR' }}</strong></p>
      </div>
      <button (click)="openCheckoutPopup(cartItems)" class="btn-proceed-checkout">Proceed to Checkout</button>
      <div class="secure-payment">
        <p><i class="fa fa-lock"></i> Thank you for shopping</p>
      </div>
    </div>
  </div>
</div>

<!--<div class="modal" [ngClass]="{'modal-open': isPopupOpen}">
  <div class="modal-content">
    <span class="close-btn" (click)="closeCheckoutPopup()">&times;</span>
    <h4 style="font-weight:bold">Checkout</h4>
    <form (ngSubmit)="submitOrder()" #checkoutForm="ngForm">
      <div class="form-group">
        <label for="name">Name</label>
        <input type="text" id="name" name="name" [(ngModel)]="orderDetails.name" required />
      </div>
      <div class="form-group">
        <label for="address">Address</label>
        <textarea id="address" name="address" [(ngModel)]="orderDetails.address" required></textarea>
      </div>
      <div class="form-group">
        <label for="phone" >Phone Number</label>
        <div class="phone-input">
          <select id="countryCode" name="countryCode" [(ngModel)]="orderDetails.countryCode">
            <option value="+92">+92 (Pakistan)</option>
          </select>
          <input type="text" id="phone" name="phone" [(ngModel)]="orderDetails.phone" required />
        </div>
      </div>
      <div class="form-group">
        <label for="email">Email Address</label>
        <input type="email" id="email" name="email" [(ngModel)]="orderDetails.email" required />
      </div>
      <div class="form-group">
        <label for="payment">Payment Method</label>
        <select id="payment" name="payment" [(ngModel)]="orderDetails.paymentMethod">
          <option value="cash">Cash on Delivery</option>
         
        </select>
      </div>
      <button type="submit" class="btn-submit">Place Order</button>
    </form>
  </div>
</div>-->

<footer class="footer">
  <p>&copy; 2024 Your Company. All rights reserved.</p>
</footer>
